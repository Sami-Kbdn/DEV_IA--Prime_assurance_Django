{% extends 'base.html' %}

{% load static %}

{% block title %}Mon Profil - Assur'Aimant{% endblock %}

{% block content %}

<!-- Navbar Section -->
{% include 'includes/navbar_section.html' %}

<!-- Main Content Section -->
<div class="main-container bg-[#f2f2f2] pt-8 px-8 pb-12">
    <div class="container mx-auto bg-white rounded-lg shadow-xl p-8">

        <!-- User Profile Header -->
        <div class="flex items-center space-x-6 mb-8">
            <div class="w-32 h-32 rounded-full bg-[#00bfae] flex items-center justify-center text-white text-3xl">
                {{ user.first_name|slice:":1" }}{{ user.last_name|slice:":1" }}
            </div>
            <div>
                <h2 class="text-3xl font-bold text-[#1c2b36]">{{ user.first_name }} {{ user.last_name }}</h2>
                <p class="text-lg text-[#5e6c7e]">{{ user.email }}</p>
            </div>
        </div>

        <!-- Personal Information Table -->
        <h3 class="text-2xl font-semibold text-[#1c2b36] mb-4">Informations personnelles</h3>
        <table class="w-full bg-white shadow-md rounded-lg border border-[#e4e4e4]">
            <thead class="bg-[#00bfae]">
                <tr>
                    <th class="text-left py-3 px-6 text-sm font-medium text-white">Nom</th>
                    <th class="text-left py-3 px-6 text-sm font-medium text-white">Prénom</th>
                    <th class="text-left py-3 px-6 text-sm font-medium text-white">Email</th>
                </tr>
            </thead>
            <tbody>
                <tr class="hover:bg-[#f7f7f7] transition duration-200">
                    <td class="px-6 py-3">{{ user.first_name }}</td>
                    <td class="px-6 py-3">{{ user.last_name }}</td>
                    <td class="px-6 py-3">{{ user.email }}</td>
                </tr>
            </tbody>
        </table>

        <!-- Action Buttons -->
        <div class="mt-6 flex justify-between">
            <a href="{% url 'app:user_infos' %}" class="text-[#00bfae] hover:text-[#1c2b36] transition duration-300">
                Retour à mes informations
            </a>
            <a href="{% url 'app:update_infos' %}" class="bg-[#00bfae] text-white py-2 px-6 rounded-lg hover:bg-[#008f8f] transition duration-300">
                Modifier mes informations
            </a>
        </div>
    </div>
</div>
<!-- Useful Links Carousel -->
<div class="mt-4">
    <h4 class="text-2xl font-semibold text-[#1c2b36] mb-4 m-10">Ressources utiles</h4>
    <div class="relative w-full overflow-hidden">
        <!-- Carousel Items -->
        <div id="carousel-container" class="flex transition-transform duration-300">
            <!-- Tabac Info Service -->
            <div class="min-w-full flex flex-col items-center bg-white rounded-lg shadow-md p-6">
                <img src="{% static 'images/tabac_info.png' %}" alt="Prévention Tabac" class="w-70 h-40 rounded-lg mb-4 object-cover">
                <h5 class="text-lg font-semibold text-[#1c2b36] mb-2">Prévention Tabac</h5>
                <p class="text-sm text-[#5e6c7e] mb-4 text-center">
                    Découvrez des conseils et des outils pour arrêter de fumer sur le site officiel.
                </p>
                <a href="https://www.tabac-info-service.fr" target="_blank" rel="noopener noreferrer" 
                   class="bg-[#00bfae] text-white py-2 px-6 rounded-lg hover:bg-[#008f8f] transition duration-300">
                    Accéder au site
                </a>
            </div>
            <!-- Santé publique -->
            <div class="min-w-full flex flex-col items-center bg-white rounded-lg shadow-md p-6">
                <img src="{% static 'images/sante_publique.png' %}" alt="Santé Publique" class="w-70 h-40 rounded-lg mb-4 object-cover">
                <h5 class="text-lg font-semibold text-[#1c2b36] mb-2">Santé Publique France</h5>
                <p class="text-sm text-[#5e6c7e] mb-4 text-center">
                    Ressources pour la santé et le bien-être accessibles à tous.
                </p>
                <a href="https://www.santepubliquefrance.fr/" target="_blank" rel="noopener noreferrer" 
                   class="bg-[#00bfae] text-white py-2 px-6 rounded-lg hover:bg-[#008f8f] transition duration-300">
                    Accéder au site
                </a>
            </div>
            <!-- Assurance Maladie -->
            <div class="min-w-full flex flex-col items-center bg-white rounded-lg shadow-md p-6">
                <img src="{% static 'images/assurance_maladie.png' %}" alt="Assurance Maladie" class="w-70 h-40 rounded-lg mb-4 object-cover">
                <h5 class="text-lg font-semibold text-[#1c2b36] mb-2">Ameli - Assurance Maladie</h5>
                <p class="text-sm text-[#5e6c7e] mb-4 text-center">
                    Accédez à vos services santé via votre compte Ameli.
                </p>
                <a href="https://www.ameli.fr/" target="_blank" rel="noopener noreferrer" 
                   class="bg-[#00bfae] text-white py-2 px-6 rounded-lg hover:bg-[#008f8f] transition duration-300">
                    Accéder au site
                </a>
            </div>
        </div>

        <!-- Navigation -->
        <button id="prev-btn" class="absolute top-1/2 left-4 transform -translate-y-1/2 bg-white p-2 rounded-full shadow-md hover:bg-[#00bfae] transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-[#1c2b36]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
        </button>
        <button id="next-btn" class="absolute top-1/2 right-4 transform -translate-y-1/2 bg-white p-2 rounded-full shadow-md hover:bg-[#00bfae] transition">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-[#1c2b36]" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
        </button>
    </div>
</div>

<script>
    const container = document.getElementById('carousel-container');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    let currentIndex = 0;

    prevBtn.addEventListener('click', () => {
        currentIndex = (currentIndex === 0) ? container.children.length - 1 : currentIndex - 1;
        container.style.transform = `translateX(-${currentIndex * 100}%)`;
    });

    nextBtn.addEventListener('click', () => {
        currentIndex = (currentIndex === container.children.length - 1) ? 0 : currentIndex + 1;
        container.style.transform = `translateX(-${currentIndex * 100}%)`;
    });
</script>


{% endblock %}
